## Project Structure (Educational Runtime)

This project is intentionally designed as an **educational async runtime**, with the goal of deeply understanding how Rust async works under the hood.

It is **not intended for production use**, but rather as a **learning and portfolio project** to demonstrate knowledge of:
- `Future` internals
- `Context` and `Waker`
- `RawWaker` and `RawWakerVTable`
- Task scheduling
- Atomic operations and memory safety
- Low-level ownership and concurrency patterns in Rust

This structure is meant to clearly separate responsibilities and mirror how real-world runtimes are architected.

---

```text
iron-runtime/
├── src/
│   ├── main.rs
│   ├── executor.rs
│   ├── task.rs
│   └── waker.rs
├── Cargo.toml
├── Cargo.lock
├── README.md
├── LICENSE
├── .gitignore
└── target/
```

---

### `src/main.rs`
Entry point of the program.

- Instantiates the `Executor`
- Spawns example futures
- Starts the execution loop
- Used primarily to **demonstrate runtime behavior**

---

### `src/executor.rs`
Implements the **executor and scheduler**.

Responsibilities:
- Owns the shared task queue
- Pops tasks and polls them
- Creates a `Context` with a custom `Waker`
- Never re-schedules tasks directly
- Follows a **pure event-driven model**

This mirrors how real async runtimes avoid busy loops.

---

### `src/task.rs`
Defines the **Task abstraction**, which wraps user futures.

Responsibilities:
- Wraps a `Future` in `Pin<Box<dyn Future>>`
- Manages task lifecycle and completion
- Uses `Arc` for shared ownership
- Uses `UnsafeCell` for controlled interior mutability
- Prevents duplicate scheduling using atomic flags

This layer demonstrates how runtimes safely manage futures without knowing their concrete types.

---

### `src/waker.rs`
Custom **Waker implementation** using `RawWaker`.

Responsibilities:
- Implements the `RawWakerVTable`
- Handles `clone`, `wake`, `wake_by_ref`, and `drop`
- Re-enqueues tasks into the shared queue
- Acts as the bridge between futures and the executor

This module is the core learning piece for understanding Rust async internals.

---

### `Cargo.toml`
Project metadata and dependency definitions.

- Minimal dependencies
- No external async runtimes are used

---

### `README.md`
High-level explanation of:
- Project goals
- Architecture
- Design decisions
- Safety guarantees

Written with **technical interviews and portfolio review** in mind.

---

### `LICENSE`
Open-source license for the project.

---

### `target/`
Build artifacts generated by Cargo (not part of the source code).
